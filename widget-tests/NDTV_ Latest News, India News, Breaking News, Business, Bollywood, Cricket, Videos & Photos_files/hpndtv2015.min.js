function submit_search_form(){var e=$("#s"),n=$("#s").val(),t=n.replace(/-/g,"~").replace(/[^a-zA-Z0-9~ ]/g,"").replace(/[^a-zA-Z0-9~]/g,"-");""==t?(alert("Please enter search query"),e.focus()):window.location="http://www.ndtv.com/topic/"+t}function submit_opinion_search_form(){var e=$("#g"),n=$("#g").val(),t=n.replace(/-/g,"~").replace(/[^a-zA-Z0-9~ ]/g,"").replace(/[^a-zA-Z0-9~]/g,"-");""==t?(alert("Please enter search query"),e.focus()):window.location="http://www.ndtv.com/opinion-search/"+t}function submit_opinion_topic_form(){return submit_opinion_search_form(),!1}function submit_topic_form(){return submit_search_form(),!1}function insertCustomSymbols(){var e={pattern:/\bRs(\.|\b)/,rep_string:"Rs."},n=function(t){var i=0;if(3==t.nodeType&&-1!=t.nodeValue.search(e.pattern)){t.nodeValue=t.nodeValue.replace(e.pattern,e.rep_string);var a=t.data.indexOf(e.rep_string);if(a>=0){var r=document.createElement("em");i=document.createElement("em"),r.className="rupee",t=t.splitText(a),t.splitText(e.rep_string.length),a=t.cloneNode(!0),r.appendChild(a),t.parentNode.replaceChild(r,t),t=a.splitText(1),i.appendChild(t.cloneNode(!0)),t.parentNode.replaceChild(i,t),i=1}}else if(1==t.nodeType&&t.childNodes&&!/(script|style|iframe)/i.test(t.tagName)&&-1==t.className.indexOf("rupee"))for(r=0;r<t.childNodes.length;++r)r+=n(t.childNodes[r]);return i};n(document.body)}function geVersion(){var e,n,t=(navigator.appVersion,navigator.userAgent),i=navigator.appName,a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!=(e=t.indexOf("Safari"))?t.indexOf("Chrome")>-1?(a=0,r=0):(i="Safari",a=t.substring(e+7),-1!=(e=t.indexOf("Version"))&&(a=t.substring(e+8)),-1!=(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n)),r=parseInt(""+a,10),isNaN(r)&&(a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10))):(a=0,r=0),r}function checkPerms(){var e=window.safari.pushNotification.permission("web.ndtv.website.test");"default"===e.permission?requestPermissions():"granted"===e.permission?token=e.deviceToken:"denied"===e.permission}function requestPermissions(){window.safari.pushNotification.requestPermission("https://play.ndtv.com/push/index","web.ndtv.website.test",null,function(e){"granted"===e.permission?token=e.deviceToken:"denied"===e.permission})}$().ready(function(){if($("#h_sub_menu").click(function(){$("#nav").toggleClass("more_active"),$("#subnav").toggle()}),$("#h_search_menu").click(function(){$("#searchdrop").toggle(),$("#s").focus()}),document.getElementById("ad_leader_m")){var e=document.getElementById("ad_leader_m_c");document.getElementById("ad_leader_m").appendChild(e),e.style.display="block"}if(document.getElementById("ad_300x100_m")){var n=document.getElementById("ad_300x100_m_c");document.getElementById("ad_300x100_m").appendChild(n),n.style.display="block"}if(document.getElementById("ad_300x250_m")){var t=document.getElementById("ad_300x250_m_c");document.getElementById("ad_300x250_m").appendChild(t),t.style.display="block"}if(document.getElementById("pagepusher")){var i=document.getElementById("pagepusher_m_c");document.getElementById("pagepusher").appendChild(i),i.style.display="block"}if(document.getElementById("skinning")){var a=document.getElementById("skinning_m_c");document.getElementById("skinning").appendChild(a),a.style.display="block"}insertCustomSymbols()});var token="";geVersion()>=7&&checkPerms();