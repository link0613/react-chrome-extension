!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("fedops-logger",[],t):"object"==typeof exports?exports["fedops-logger"]=t():e["fedops-logger"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.p="undefined"!=typeof window&&window.__STATICS_BASE_URL__||t.p,t(t.s=29)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{src:72,evid:e,session_id:n,_:(new Date).getTime()}))}return i(t,e),t}(a.default);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;r(this,e),this.data=t}return o(e,[{key:"isActive",value:function(){return!0}},{key:"export",value:function(){return this.data}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={mapToQuery:r,generateGuid:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),a=r(u),s=n(17),c=r(s),f=n(18),l=r(f),d=n(4),p=r(d),h=n(9),y=r(h),_=function(){function e(t,n,r,i){var u=i.sessionId,s=i.errorHandlerToggle,c=i.disableAutoLoadFinish;o(this,e),this.appName=t,this.appVersion=n,this.reporter=r,this.params={sessionId:u},this.errorHandlerToggle=s,this.disableAutoLoadFinish=c,this.dataSource=new a.default({appName:t}),s&&window.fedopsLoggerErrorHandler.subscribeListener(t,this.reportError.bind(this))}return i(e,[{key:"reportAppMetadata",value:function(){var e=this.dataSource.clone().addItem({v:this.appVersion}).addItem(new c.default(this.sessionId));this._report(e)}},{key:"reportError",value:function(e,t,n){var r=void 0;r=this._appLoadedCalled?Object.keys(this._outgoingInteractions)[0]:"[APP LOAD]";var o=this.dataSource.clone().addItem({interactionName:r}).addItem({errorType:t}).addItem({errorInfo:n}).addItem(new y.default(this.sessionId));r&&this._report(o)}},{key:"_report",value:function(e){return this.reporter.report(e.mergeItems())}},{key:"getAppName",value:function(){return this.appName}},{key:"getAppVersion",value:function(){return this.appVersion}},{key:"getReporter",value:function(){return this.reporter}},{key:"getParam",value:function(e){return this.params[e]}},{key:"_isDisableAutoLoadFinish",value:function(){return this.disableAutoLoadFinish}},{key:"appLoadingPhase",value:function(e){var t=this.dataSource.clone().addItem({name:e}).addItem(new l.default(this.sessionId)).addItem(new p.default);return this._report(t)}},{key:"sessionId",get:function(){return this.getParam("sessionId")}}]),e}();t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),c=r(s),f=n(1),l=r(f),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{duration:Math.floor(c.default.appLoadTime(e))}));return n.appName=e,n}return u(t,e),a(t,[{key:"setFirstRequestDuration",value:function(){return this.data.frd=Math.floor(c.default.firstRequestDuration(this.appName)),this}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return a.default.getStartLoadTime(e)||0}function i(){return c.default.now()}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),a=r(u),s=n(7),c=r(s);t.default={appLoadTime:function(e){return i()-o(e)},loadStarted:function(e){a.default.setStartLoadTime(e,c.default.now())},firstRequestDuration:function(e){return o(e)}}},function(e,t,n){"use strict";function r(e){return window.fedops.apps[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:function(e){window.fedops.apps[e]=window.fedops.apps[e]||{}},getStartLoadTime:function(e){var t=r(e);return t?t.startLoadTime:null},setStartLoadTime:function(e,t){return r(e).startLoadTime=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={getNavigation:function(){return window&&window.performance?window.performance.navigation:{}},getResources:function(){return window&&window.performance&&window.performance.getEntriesByType("resource")||[]},getTiming:function(){return window&&window.performance?window.performance.timing:{}},now:function(){return window&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},mark:function(e){o.default.isFedopsDev()&&window&&window.performance&&window.performance.mark&&window.performance.mark(e)},measure:function(e,t,n){o.default.isFedopsDev()&&window&&window.performance&&window.performance.measure&&window.performance.measure(e,t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return"undefined"!=typeof window&&window.location};t.default={getHost:function(){return r()&&window.location.host},isFedopsDev:function(){return((r()||{}).search||"").indexOf("fedops=dev")>-1}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EVID=void 0;var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=t.EVID=17,c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,e))}return i(t,e),t}(a.default);t.default=c},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.baseUrl,r=void 0===n?null:n,o=t.appId,u=void 0===o?null:o,a=t.isWidgetLogger,s=void 0!==a&&a,c=t.errorHandlerToggle,f=void 0!==c&&c,l=t.disableAutoLoadFinish,d=void 0!==l&&l,p=t.swallowExceptions,h=void 0!==p&&p,y=t.interactionTimeout,_=void 0===y?null:y,w=t.timeoutHook,b=void 0===w?null:w,v=t.startHook,m=void 0===v?null:v,g=t.endHook,O=void 0===g?null:g,E=t.networkAnalysis,k=void 0!==E&&E,T="undefined"!=typeof window?"1.0.0-SNAPSHOT":null;return(new i.default).setAppName(e).setAppVersion(T).setBaseUrl(r).setAppId(u).setErrorHandlerToggle(f).setSwallowExceptions(h).setWidgetLogger(s).setInteractionTimeout(_).setTimeoutHook(b).setStartHook(m).setEndHook(O).setDisableAutoLoadFinish(d).setNetworkAnalysis(k).build()}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r;var o=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e="undefined"!=typeof window&&window.fedops&&window.fedops.sessionId;return e=e||l.default.getItem(m.SESSION_ID_STORAGE_KEY),e=e||c.default.generateGuid(),l.default.setItem(m.SESSION_ID_STORAGE_KEY,e),e}function u(e){g=e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.setFactory=u;var s=n(2),c=r(s),f=n(12),l=r(f),d=n(13),p=r(d),h=n(15),y=r(h),_=n(23),w=r(_),b=n(25),v=r(b),m=n(27),g=p.default,O=function(){function e(){o(this,e)}return a(e,[{key:"setAppName",value:function(e){return this.appName=e,this}},{key:"setAppVersion",value:function(e){return this.appVersion=e,this}},{key:"setErrorHandlerToggle",value:function(e){return this.errorHandlerToggle=e,this}},{key:"setSwallowExceptions",value:function(e){return this.swallowExceptions=e,this}},{key:"setAppId",value:function(e){return this.appId=e,this}},{key:"setBaseUrl",value:function(e){return this.baseUrl=e,this}},{key:"setWidgetLogger",value:function(e){return this.isWidgetLogger=e,this}},{key:"setInteractionTimeout",value:function(e){return this.interactionTimeout=e,this}},{key:"setTimeoutHook",value:function(e){return this.timeoutHook=e,this}},{key:"setStartHook",value:function(e){return this.startHook=e,this}},{key:"setEndHook",value:function(e){return this.endHook=e,this}},{key:"setDisableAutoLoadFinish",value:function(e){return this.disableAutoLoadFinish=e,this}},{key:"setNetworkAnalysis",value:function(e){return this.enableNetworkAnalysis=e,this}},{key:"build",value:function(){if(!this.appName)return null;this.appVersion||(this.appVersion=m.DEFAULT_APP_VERSION);var e=new g(this.baseUrl||m.BI_BASE_URL),t=this.errorHandlerToggle,n=this.swallowExceptions,r=this.interactionTimeout,o=this.timeoutHook,u=this.startHook,a=this.endHook,s=this.disableAutoLoadFinish,c=this.enableNetworkAnalysis;t&&(window.fedopsLoggerErrorHandler=window.fedopsLoggerErrorHandler||new v.default({swallowExceptions:n}));return this.isWidgetLogger?new w.default(this.appName,this.appVersion,e,{sessionId:i(),errorHandlerToggle:t,swallowExceptions:n,disableAutoLoadFinish:s,enableNetworkAnalysis:c}):new y.default(this.appName,this.appVersion,e,{sessionId:i(),errorHandlerToggle:t,swallowExceptions:n,disableAutoLoadFinish:s,interactionTimeout:r,timeoutHook:o,startHook:u,endHook:a,enableNetworkAnalysis:c})}}]),e}();t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getItem:function(e){try{return window.localStorage.getItem(e)}catch(e){}},setItem:function(e,t){try{return window.localStorage.setItem(e,t)}catch(e){}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),a=r(u),s=n(2),c=r(s),f=function(){function e(t){o(this,e),this.baseUrl=t}return i(e,[{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"report",value:function(e){return e?a.default.fetch(this.baseUrl+"?"+c.default.mapToQuery(e)):null}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fetch:function(e){return(new window.Image).src=e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),f=n(19),l=r(f),d=n(4),p=r(d),h=n(20),y=r(h),_=n(21),w=r(_),b=n(22),v=r(b),m=n(9),g=r(m),O=n(7),E=r(O),k=function(e,t){if(e)return e(t)},T=function(e){function t(e,n,r,u){var a=u.sessionId,s=u.errorHandlerToggle,c=u.disableAutoLoadFinish,f=u.interactionTimeout,l=u.timeoutHook,d=u.startHook,p=u.endHook,h=u.enableNetworkAnalysis;o(this,t);var y=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,{sessionId:a,errorHandlerToggle:s,disableAutoLoadFinish:c}));return y._outgoingInteractions={},y.interactionTimeout=f,y.timeoutHook=l,y.startHook=d,y.endHook=p,y.enableNetworkAnalysis=h,y}return u(t,e),a(t,[{key:"appLoaded",value:function(){if(!this._appLoadedCalled){if(window&&window.fedops&&"function"==typeof window.fedops.clearLoadTimeout&&window.fedops.clearLoadTimeout(),this.enableNetworkAnalysis){var e=E.default.getResources();new y.default(e).prettyLocalReport()}var t=this.dataSource.clone().addItem(new l.default(this.sessionId)).addItem(new p.default(this.appName).setFirstRequestDuration());return this._appLoadedCalled=!0,E.default.mark("[fedops] app-loaded"),E.default.measure("[fedops] app-loaded","navigationStart","[fedops] app-loaded"),this._report(t)}}},{key:"interactionStarted",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.interactionTimeout,o=n.startHook,i=n.timeoutHook;E.default.mark(e+" started");var u=this.dataSource.clone().addItem({name:e}).addItem(new w.default(this.sessionId));return this._outgoingInteractions[e]={timestamp:E.default.now(),timeout:r||this.interactionTimeout},this._report(u),k(o||this.startHook,{name:e}),{timeoutId:function(){if(r||t.interactionTimeout)return setTimeout(function(){var n=t.dataSource.clone().addItem({interactionName:e}).addItem({errorType:"timeout"}).addItem(new g.default(t.sessionId));t._report(n),k(i||t.timeoutHook,{name:e,timeout:r||t.interactionTimeout})},r||t.interactionTimeout)}()}}},{key:"interactionEnded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeoutId,r=t.endHook;E.default.mark(e+" ended"),E.default.measure(e+" duration",e+" started",e+" ended"),n&&clearTimeout(n);var o=this._outgoingInteractions[e]?Math.floor(E.default.now()-this._outgoingInteractions[e].timestamp):"";k(r||this.endHook,{name:e,duration:o,timeout:this._outgoingInteractions[e]&&this._outgoingInteractions[e].timeout});var i=this.dataSource.clone().addItem({name:e}).addItem({duration:o}).addItem(new v.default(this.sessionId));delete this._outgoingInteractions[e],this._report(i)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),t}(c.default);t.default=T},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.items=[],n&&(void 0===n.length?[n]:n).forEach(function(e){return t.addItem(e)})}return o(e,[{key:"clone",value:function(){return new e(this.items.slice())}},{key:"addItem",value:function(e){return this.items.push(e instanceof u.default?e:new u.default(e)),this}},{key:"mergeItems",value:function(){for(var e={},t=0;t<this.items.length;t++){var n=this.items[t];if(!n.isActive()){e=null;break}var r=n.export();for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,18,e))}return i(t,e),t}(a.default);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,13,e))}return i(t,e),t}(a.default);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,11,e))}return i(t,e),t}(a.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return!!e.length&&e.some(function(e){return!!e.transferSize})}function s(e){var t=0;return e.forEach(function(e){return t+=e.transferSize}),t}function c(e){if(0===e.length)return-1;var t=e.reduce(function(e,t){return t.responseEnd-t.startTime>=e.responseEnd-e.startTime?t:e});return t.responseEnd-t.startTime}function f(e){var t={startTime:1/0,responseEnd:0};return e.forEach(function(e){t.startTime>e.startTime&&(t.startTime=e.startTime),t.responseEnd<e.responseEnd&&(t.responseEnd=e.responseEnd)}),t.responseEnd-t.startTime}function l(e){return e.length-e.filter(p).length}function d(e){var t=e.length;if(0===t)return 0;var n=e.filter(p).length;return Math.round(100*n/t)}function p(e){return h(e.name)&&0===e.transferSize&&0===e.requestStart}function h(e){var t=v.default.getHost();return!!t&&!e.includes(t)}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=n(1),w=r(_),b=n(8),v=r(b),m={xmlhttprequest:{count:"xhrRequested",unsupported:"unsupportedXhrPercentage",duration:"xhrRequestedTotalTime",total:"totalSizeOfXhrRequested",longest:"xhrRequestLongest"},script:{count:"scriptsLoaded",unsupported:"unsupportedScriptsPercentage",duration:"scriptsLoadingTotalTime",total:"totalSizeOfScriptsLoaded"},link:{count:"cssLoaded",unsupported:"unsupportedCssPercentage",duration:"cssLoadingTotalTime",total:"totalSizeOfCssLoaded"}},g=function(e,t){return e.filter(function(e){return t===e.initiatorType})},O=function(e){return Object.keys(m).reduce(function(t,n){var r=g(e,n);return m[n].count&&(t[m[n].count]=l(r)),m[n].duration&&(t[m[n].duration]=f(r)),m[n].longest&&(t[m[n].longest]=c(r)),m[n].total&&(t[m[n].total]=a(r)?s(r):-1),m[n].unsupported&&(t[m[n].unsupported]=d(r)),t},{})},E=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,O(e)))}return u(t,e),y(t,[{key:"prettyLocalReport",value:function(){console.debug&&console.debug(JSON.stringify(this.data,null,4))}}]),t}(w.default);t.default=E},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.INTERACTION_START_EVID=void 0;var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=t.INTERACTION_START_EVID=15,c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,e))}return i(t,e),t}(a.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.INTERACTION_END_EVID=void 0;var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=t.INTERACTION_END_EVID=16,c=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,e))}return i(t,e),t}(a.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),f=n(24),l=r(f),d=n(5),p=r(d),h=n(6),y=r(h),_=function(e){function t(e,n,r,u){var a=u.sessionId,s=u.disableAutoLoadFinish;o(this,t);var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,{sessionId:a,disableAutoLoadFinish:s}));return y.default.init(c.appName),c}return u(t,e),a(t,[{key:"appLoadStarted",value:function(){p.default.loadStarted(this.appName);var e=this.dataSource.clone().addItem(new l.default(this.sessionId));return this._report(e)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),t}(c.default);t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,14,e))}return i(t,e),t}(a.default);t.default=s},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=function(){function e(t){var r=t.swallowExceptions;n(this,e),this.swallowExceptions=r,this.listeners={},this.instrumentAjax(),this.instrumentSetTimeout(),this.instrumentSetInterval(),this.instrumentAddEventListener(),this.instrumentFetch(),this.instrumentPromise(),this.instrumentGloballyUnhandledError()}return r(e,[{key:"subscribeListener",value:function(e,t){this.listeners[e]=t}},{key:"removeListener",value:function(e){delete this.listeners[e]}},{key:"instrumentAjax",value:function(){var e=this;if("XMLHttpRequest"in o){var t=XMLHttpRequest.prototype;this._wrap(t,"open",function(e){return function(t,n){return this.__fedops_xhr={method:t,url:n,status_code:null},e.apply(this,arguments)}},"xhr"),this._wrap(t,"send",function(t){return function(){function n(){if(1===r.readyState||4===r.readyState){try{r.__fedops_xhr.status_code=r.status}catch(e){}e._isErrorStatusCode(r.__fedops_xhr.status_code)&&e._reportError(r.__fedops_xhr,"xhr",r.__fedops_xhr.status_code)}}var r=this;return e._wrap(this,"onload",function(e){return function(){e&&e.apply(this,arguments)}},"xhr"),e._wrap(this,"onerror",function(e){return function(){e&&e.apply(this,arguments)}},"xhr"),e._wrap(this,"onprogress",function(e){return function(){e&&e.apply(this,arguments)}},"xhr"),"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?e._wrap(r,"onreadystatechange",function(e){return function(){return n(),e.apply(this,arguments)}}):r.onreadystatechange=n,t.apply(this,arguments)}},"xhr")}}},{key:"instrumentSetTimeout",value:function(){var e=this;this._wrap(o,"setTimeout",function(t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.call.apply(t,[this,e._wrapCallback(n,"setTimeout")].concat(o))}})}},{key:"instrumentSetInterval",value:function(){var e=this;this._wrap(o,"setInterval",function(t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.call.apply(t,[this,e._wrapCallback(n,"setInterval")].concat(o))}})}},{key:"instrumentAddEventListener",value:function(){function e(e){var n=o[e]&&o[e].prototype;n&&Object.prototype.hasOwnProperty.call(n,"addEventListener")&&(t._wrap(n,"addEventListener",function(e){return function(n,r,o,i){var u=t._wrapCallback(r,"addEventListener");return r&&(r.__fedopsWrapper__=u),e.call(this,n,u,o,i)}}),t._wrap(n,"removeEventListener",function(e){return function(t,n,r,o){return n=n&&(n.__fedopsWrapper__||n),e.call(this,t,n,r,o)}}))}var t=this;["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(function(t){return e(t)})}},{key:"instrumentRequestAnimationFrame",value:function(){}},{key:"instrumentFetch",value:function(){var e=this;this._wrap(o,"fetch",function(t){return function(n,r){return t.apply(this,arguments).then(function(t){var o=t.status;if(e._isErrorStatusCode(o)){var i={url:n,method:r?r.method:"GET",status_code:o};e._reportError(i,"fetch",o)}return t})}})}},{key:"instrumentPromise",value:function(){var e=this;o.addEventListener("unhandledrejection",function(t){e._reportError(t,"promise")})}},{key:"instrumentGloballyUnhandledError",value:function(){var e=this;o.addEventListener("error",function(t){e._reportError(t,"windowOnError")})}},{key:"instrumentHistory",value:function(){}},{key:"_wrap",value:function(e,t,n,r){var o=this,i=e[t],u=n(i),a=function(){try{return u.apply(this,arguments)}catch(e){if(o._reportError(e,r),!o.swallowExceptions)throw e}};e[t]=a}},{key:"_wrapCallback",value:function(e,t){var n=this;return function(){try{return e.apply(this,arguments)}catch(e){if(n._reportError(e,t),!n.swallowExceptions)throw e}}}},{key:"_reportError",value:function(e,t,n){var r=this,o=e&&(e.error||e);if(!o.__fedopsHandledError__){Object.keys(this.listeners).forEach(function(e){r.listeners[e](o,t,n)}),o.__fedopsHandledError__=!0}}},{key:"_isErrorStatusCode",value:function(e){return e>=400||0===e}}]),e}();t.default=i}).call(t,n(26))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BI_BASE_URL="https://frog.wix.com/fed",t.SESSION_ID_STORAGE_KEY="fedops.logger.sessionId",t.DEFAULT_APP_VERSION="0.0.0"},function(e,t,n){"use strict";function r(){window.fedops=window.fedops||{},window.fedops.apps=window.fedops.apps||{}}Object.defineProperty(t,"__esModule",{value:!0}),t.initiateApp=r},function(e,t,n){"use strict";var r=n(28),o=n(10);(0,r.initiateApp)(),window.fedops.logger={create:o.create},window.fedops.widgetLogger={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.baseUrl,r=void 0===n?null:n,i=t.appId,u=void 0===i?null:i;return(0,o.create)(e,{baseUrl:r,appId:u,isWidgetLogger:!0})}}}])});
//# sourceMappingURL=fedops-logger.bundle.min.js.map